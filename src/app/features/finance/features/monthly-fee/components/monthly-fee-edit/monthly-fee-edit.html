<!-- Overlay -->
<div class="fixed inset-0 bg-black/80 flex items-center justify-center z-50">
    <!-- Modal -->
    <div class="bg-neutral-dark rounded-xl shadow-lg w-full max-w-md p-6 relative">
        <h2 class="text-xl font-bold text-white mb-6">Edit Monthly Fee</h2>
        <form (ngSubmit)="submitForm()" class="flex flex-col gap-4">
            @if (editFee(); as fee) {
            <!-- CashboxId -->
            <app-form-select label="Cashbox ID" name="cashboxId" [required]="true" [options]="cashboxOptions()"
                [model]="fee.cashBoxId" selectClass="w-full" (modelChange)="patchEdit({ cashBoxId: $event })" />
            <!-- MemberId -->
            <app-form-select label="Member ID" name="memberId" [required]="true" [options]="memberOptions()"
                [model]="fee.member" selectClass="w-full" (modelChange)="patchEdit({ member: $event})"/>
            <!-- Assigned Amount -->
            <app-form-input label="Assigned Amount" name="assignedAmount" type="number"
                placeholder="Add a Assigned Amount. Ej: 35000" [required]="true" [model]="fee.assignedAmount"
                inputClass="w-full" (modelChange)="patchEdit({ assignedAmount: $event  })"/>
            <!-- Paid -->
            <app-form-input label="Paid" name="paid" type="number" [required]="true" [model]="fee.paid"
                inputClass="w-full" (modelChange)="patchEdit({ paid: $event })" />
            <!-- Status -->
            <app-form-select label="Status" name="status" [required]="true" [options]="statusOptions"
                [model]="fee.status" selectClass="w-full" (modelChange)="patchEdit({ status: $event })"/>
            }
            <!-- Botones -->
            <div class="flex justify-end gap-3 pt-4 border-t border-white/10">
                <button type="button" (click)="onCancel()"
                    class="px-4 py-2 rounded-md border border-gray-300 text-sm text-white hover:bg-red-500 hover:border-red-500">
                    Cancel
                </button>
                <button type="submit"
                    class="px-4 py-2 rounded-md bg-caribbean-green text-sm font-bold text-white hover:bg-mountain-meadow">
                    Save
                </button>
            </div>
        </form>
    </div>
</div>